<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./../templates/_Template.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <p:fieldset legend="Relatório - Salas por Bloco">

            <br/>
            <br/>
            <center>
                <p:panel style="width: 450px; height: 100px; text-align: left;">
                    <h:form id="filtroEquip">
                        <h:panelGrid id="filtro" columns="2" cellpadding="4" cellspacing="10">
                            <p:outputLabel for="bloco" value="Bloco: "/>
                            <p:selectOneMenu id="bloco" required="true" value="#{salasBloco.idBlocos}"
                                             immediate="true" label="Bloco" requiredMessage="O campo 'Equipamento' é obrigatório">
                                <f:selectItem itemLabel="Selecione um Bloco..." itemValue="" /> 
                                <f:selectItems value="#{blocosBean.blocos}" var="b"
                                               itemLabel="#{b.nome}" itemValue="#{b.idBlocos}" />
                            </p:selectOneMenu>
                        </h:panelGrid>
                        <br/>
                        <div style="float: right;">
                            <p:commandButton value="Filtrar" ajax="false" action="#{salasBloco.gerarRelatorio()}" immediate="false" onclick="this.form.target='_blank'" />
                            <p:spacer width="5" height="0"/>
                            <p:commandButton value="Limpar" update="bloco" action="#{salasBloco.limpar()}" immediate="true" process="@this"/>
                        </div>
                    </h:form>
                </p:panel>
                <br />
                <div style="float: left; font-size: 11px; font-weight:bold;">
                    * Campo obrigatório
                </div>
            </center>
            <br/>
        </p:fieldset>
    </ui:define>

</ui:composition>
